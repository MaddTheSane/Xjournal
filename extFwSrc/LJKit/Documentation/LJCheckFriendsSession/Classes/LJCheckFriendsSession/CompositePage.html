<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html><head>
    <title>LJCheckFriendsSession</title>
	<meta name="generator" content="HeaderDoc">
</head><body bgcolor="#ffffff"><h1><font face="Geneva,Arial,Helvtica">LJCheckFriendsSession</font></h1><hr><br>
<h2>Abstract</h2>
Represents a session which checks for updates to a friends page.
<h2>Discussion</h2>
The LiveJournal protocol has a mode which allows the client to check if any new
posts have appeared on a user's friends page.  The LJKit implements this using a background thread, managed by an LJCheckFriendsSession object.  To implement
friends page checking in your client, you need only create an instance of this
class, register your class to receive LJFriendsPageUpdatedNotification and then
send startChecking to the session object.
<hr><br><h2>Methods</h2>

<h3><a name="account">account</a></h3>
<blockquote><pre><tt>- (LJAccount *)<B>account;</B> </tt><br>
</pre></blockquote>
<p>Returns the account this session is associated with.
 </p>
<hr>

<h3><a name="checkGroupArray">checkGroupArray</a></h3>
<blockquote><pre><tt>- (NSArray *)<B>checkGroupArray;</B> </tt><br>
</pre></blockquote>
<p>Returns an array containing the groups included in checking.  If an empty
array is returned, all friends are being checked.
 </p>
<hr>

<h3><a name="checkGroupMask">checkGroupMask</a></h3>
<blockquote><pre><tt>- (unsigned int)<B>checkGroupMask;</B> </tt><br>
</pre></blockquote>
<p>Returns the bitmask which defines the groups to be checked.
 </p>
<hr>

<h3><a name="checkGroupSet">checkGroupSet</a></h3>
<blockquote><pre><tt>- (NSSet *)<B>checkGroupSet;</B> </tt><br>
</pre></blockquote>
<p>Returns a set containing the groups included in checking.  If an empty set is
returned, all friends are being checked.
 </p>
<hr>

<h3><a name="initWithAccount:">initWithAccount:</a></h3>
<blockquote><pre><tt>- (id)<B>initWithAccount:</B>(LJAccount *)<I>account;</I> </tt><br>
</pre></blockquote>
<p>Initializes the receiver to check the friends page for the given account.
 </p>
<hr>

<h3><a name="interval">interval</a></h3>
<blockquote><pre><tt>- (NSTimeInterval)<B>interval;</B> </tt><br>
</pre></blockquote>
<p>Returns the number of seconds between checks.
 </p>
<hr>

<h3><a name="isChecking">isChecking</a></h3>
<blockquote><pre><tt>- (BOOL)<B>isChecking;</B> </tt><br>
</pre></blockquote>
<p>Returns YES if the friends page checking thread is checking or waiting for to
make its next check, NO otherwise.
 </p>
<hr>

<h3><a name="openFriendsPage">openFriendsPage</a></h3>
<blockquote><pre><tt>- (BOOL)<B>openFriendsPage;</B> </tt><br>
</pre></blockquote>
<p>This is a convenience method to open the user's friends page.  If this session
is checking certain groups, then ?filter={groupmask} will be appended to the
URL.
 </p>
<hr>

<h3><a name="setCheckGroupArray:">setCheckGroupArray:</a></h3>
<blockquote><pre><tt>- (void)<B>setCheckGroupArray:</B>(NSArray *)<I>groupArray;</I> </tt><br>
</pre></blockquote>
<p>Sets the groups to be checked.  If groupArray is nil, all friends will be
checked.
 </p>
<hr>

<h3><a name="setCheckGroupMask:">setCheckGroupMask:</a></h3>
<blockquote><pre><tt>- (void)<B>setCheckGroupMask:</B>(unsigned int)<I>mask;</I> </tt><br>
</pre></blockquote>
<p>Sets the bitmask which defines the groups to be checked.  This value is not
checked against the actual groups defined for the account.
 </p>
<hr>

<h3><a name="setCheckGroupSet:">setCheckGroupSet:</a></h3>
<blockquote><pre><tt>- (void)<B>setCheckGroupSet:</B>(NSSet *)<I>groupSet;</I> </tt><br>
</pre></blockquote>
<p>Sets the groups to be checked.  If groupSet is nil, all friends will be
checked.
 </p>
<hr>

<h3><a name="setChecking:forGroup:">setChecking:forGroup:</a></h3>
<blockquote><pre><tt>- (void)<B>setChecking:</B>(BOOL)<I>check</I> <B>forGroup:</B>(LJGroup *)<I>group;</I> </tt><br>
</pre></blockquote>
<p>Includes or excludes a group from checking.
 </p>
<hr>

<h3><a name="setInterval:">setInterval:</a></h3>
<blockquote><pre><tt>- (void)<B>setInterval:</B>(NSTimeInterval)<I>interval;</I> </tt><br>
</pre></blockquote>
<p>Sets the number of seconds between checks.  If the interval is too short, the
server will instruct the client to change the interval.
 </p>
<hr>

<h3><a name="startChecking">startChecking</a></h3>
<blockquote><pre><tt>- (void)<B>startChecking;</B> </tt><br>
</pre></blockquote>
<p>This method detaches a background thread which will poll the server, checking
for updates on the predefined interval.  If an update occurs, checking is
stopped and LJFriendsPageUpdatedNotification is posted.  If the interval is
changed by the server, checking continues and LJCheckFriendsIntervalChanged-
Notification is posted.  If an error occurs, checking is stopped and LJCheck-
FriendsErrorNotification is posted.
 </p>
<hr>

<h3><a name="stopChecking">stopChecking</a></h3>
<blockquote><pre><tt>- (void)<B>stopChecking;</B> </tt><br>
</pre></blockquote>
<p>Stops checking.  No notifications are posted.
 </p>
<hr>
<p>(Last Updated 2/17/2003)
</p></body></html>
